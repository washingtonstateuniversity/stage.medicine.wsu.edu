/*! wsu-medicine */
/*  See https://github.com/washingtonstateuniversity/stage.medicine.wsu.edu/ for full source.*/
!function(a,b){function c(){return 0===v&&(v=a(".home").length>0),v}function d(){var c=jQuery("#seats_comparison_container"),d=jQuery("#mi_wa_graph_container");c.length>0&&(n=c.offset().top-jQuery(b).height()+100,a(b).on("scroll",e)),d.length>0&&(o=d.offset().top-jQuery(b).height()+100,a(b).on("scroll",f))}function e(){var c=jQuery(b).scrollTop();c>n&&(b.AdobeEdge.launchComposition("EDGE-21518124"),a(b).off("scroll",e))}function f(){var c=jQuery(b).scrollTop();c>o&&(b.AdobeEdge.launchComposition("wa_mi_comparison"),a(b).off("scroll",f))}function g(d){s=Math.round(a(b).width());var e;if(s!==p||void 0!==d){p=s,e=s>791?jQuery("#spine").offset().left+198:0;var f=Math.round(s-e);r=Math.round(c()?f/1.77:f/3.15581854),a(".featured-image").each(function(){a(this).css("width",f+"px"),a(this).css("height",r+"px")}),c()&&h()}}function h(){var c=a(b).scrollTop();if(700>c){var d=a(".pic1"),e=d.height(),f=r-c-35,g=f/2-e/2+c;if(20>f-e)return;d.css("top",g+"px")}q=c}function i(){var b=jQuery("#main-replacement-"+m),c=jQuery("#main-replacement-content-"+m),d=c.html();b.off("click",i),c.remove();var e=b.offset().top;a("body").hasClass("admin-bar")&&(e-=32),a("#med-primary-content").addClass("med-to-replace"),b.append(d),t.replaceWith(u),jQuery("html body").animate({scrollTop:e},800,"easeOutCubic",function(){b.replaceWith('<main id="med-primary-content" class="spine-blank-template">'+b.html()+"</main>"),a(".med-to-replace").remove(),a(document).scrollTop(0),jQuery(".featured-image:first").removeClass("replacement-featured-image"),l(),k(),g(!0)})}function j(a){var b=jQuery("#main-replacement-"+m),c=jQuery("#main-replacement-content-"+m);c.append(a.content);var d=c.find(".h1-header");u=d.clone(),t=d.find(".column h1"),t.addClass("med-footer-temp-header"),b.append(t),d.remove(),b.on("click",i)}function k(){void 0!==m&&a.getJSON("http://wp.wsu.dev/medicine/wp-json/pages/"+m+"/",j)}function l(){var b=a("#med-primary-content"),c=b.find(".med-replacement-container");if(m=c.data("next-id"),void 0!==m){var d=c.html();c.remove(),b.after(d),jQuery("#main-replacement-"+m).css("display","")}}var m,n,o,p,q,r,s,t,u,v=0;a(document).ready(function(){a(".home").length>0?(g(),a(b).on("resize",g),a(b).on("scroll",h)):a(".featured-image").length>0&&(g(),a(b).on("resize",g)),d(),l(),k()})}(jQuery,window);